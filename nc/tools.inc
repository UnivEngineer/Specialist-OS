;----------------------------------------------------------------------------
; MXOS NC.COM
; Копирвоание 3-х байт из адреса de в адрес hl
;
; 2013-12-18 Дизассемблировано vinxru
;----------------------------------------------------------------------------

memcpy_hl_de_3:
        ld    a, (de)
        ld    (hl), a
        inc   hl
        inc   de

        ld    a, (de)
        ld    (hl), a
        inc   hl
        inc   de

        ld    a, (de)
        ld    (hl), a
        inc   hl
        inc   de

        ret

;----------------------------------------------------------------------------
; MXOS NC.COM
; Заполнение памяти по адресу hl байтом a длинной c
;
; 2013-12-18 Дизассемблировано vinxru
;----------------------------------------------------------------------------

memset_hl_a_c:
        ld      (hl), a
        inc     hl
        dec     c
        jp nz,  memset_hl_a_c
        ret

;----------------------------------------------------------------------------
; MXOS NC.COM
; hl = hl - de
;
; SpaceEngineer
;----------------------------------------------------------------------------

sub_hl_de:
        ld    a, l
        sub   e
        ld    l, a
        ld    a, h
        sbc   d
        ld    h, a
        ret

;----------------------------------------------------------------------------
; MXOS NC.COM
; hl = hl / 2
;
; SpaceEngineer
;----------------------------------------------------------------------------

div_hl_2:
        ld  a, h
        or  a    ; сброс флага c
        rra 
        ld  h, a
        ld  a, l
        rra
        ld  l, a
        ret
