;----------------------------------------------------------------------------
; MXOS NC.COM
; Инвертирвоание прямоугольной области на экране
;
; вход:
;   hl = адрес
;   b = ширина в байтах
;   c = высота всегда
;
; 2013-12-18 Дизассемблировано vinxru
;----------------------------------------------------------------------------

inverseRect:
            push    de
            ld      e, c

            ; Цикл по горизонтали
ir_loop_x:  ld      c, e    ; c = высота
            push    hl

            ; Цикл по вертикали
ir_loop_y:  ld      a, (hl)
            cpl
            ld      (hl), a

            ; Повтор цикла по вертикали
            inc     hl
            dec     c
            jp nz,  ir_loop_y

            ; Повтор цикла по горизонтали
            pop     hl
            inc     h
            dec     b
            jp nz,  ir_loop_x

            pop     de
            ret

