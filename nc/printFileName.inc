;----------------------------------------------------------------------------
; MXOS NC.COM
; Вывод имени файла в обычном виде с точкой
;
; вход:
;   hl - адрес дескриптора файла
;
; выход:
;   hl - указывает на следующее за расширением поле в дескрипторе файла
;
; 2022-01-31 SpaceEngineer
;----------------------------------------------------------------------------

;printFileName:
;        push  bc
;        ld    c, ' '               ; прерываем печать имени по пробелу
;        ld    b, FILE_NAME_LENGTH  ; длина имени
;        call  printString2
;        ld    c, '.'
;        call  bios_printChar       ; печатаем точку
;        ld    b, 3                 ; длина расширения
;        call  printString2
;        pop   bc
;        ret
;

;----------------------------------------------------------------------------
; MXOS NC.COM
; Вывод имени файла - 8 символов, путое место, 3 символа.
; Короткие имена дополняются пробелами, чтобы стереть предыдущий текст.
; Выводит только реальные символы, чтобы не портить экран при
; неотформатированном или повреждённом диске.
;
; вход:
;   hl - адрес дескриптора файла
;
; 2022-02-16 SpaceEngineer
;----------------------------------------------------------------------------

printFileNamOnPanel:
        push    hl
        push    bc
        ld      bc, FILE_NAME_LENGTH << 8   ; b = длина имени, с = 0 (без терминатора)
        call    printString2
        ld      c, 18h                      ; курсор вправо
        call    bios_printChar
        ld      bc, 3 << 8                  ; b = длина расширения, с = 0 (без терминатора)
        call    printString2
        pop     bc
        pop     hl
        ret
