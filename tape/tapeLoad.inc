;+---------------------------------------------------------------------------
; MXOS
; Загрузка программы с ленты. КС загружается, но не проверяется.
;
; В случае ошибки управление передается по адресу в bios_vars.tapeError
;
; На выходе 
;  bc - контольная сумма
;  hl, bios_vars.tapeAddr - адрес загруженной программы
;
; 2013-12-12 Дизассемблировано vinxru
;----------------------------------------------------------------------------

tapeLoad:   ; Загружаем файл с ленты без загрузки КС
            call  tapeLoadInt

            ; Читаем КС
            ld    a, 8
            call  tapeRead
            ld    c, a
            ld    a, 8
            call  tapeRead
            ld    b, a

            ; В hl возвращаем адрес запуска
            ld    hl, (bios_vars.tapeAddr)
            ret

