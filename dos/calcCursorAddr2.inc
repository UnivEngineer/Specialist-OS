;+---------------------------------------------------------------------------
; MXOS
; Расчет адреса курсора в видеопамяти (продолжение);
;
; 2013-12-12 Дизассемблировано vinxru
;----------------------------------------------------------------------------

calcCursorAd_0:   ; Перевод строки (на входе c=10)
            call  printChar

            ; Восстановление регистров после printChar (хотя он не портит регистры)
            ld    hl, (bios_vars.cursorY)
            ld    a, h

calcCursorAd_1:   ; Расчет старшего байта адреса
            ; a = cursorX / 4 + 90h       
            rrca
            rrca
            and   3Fh
            add   a,90h
            ret

