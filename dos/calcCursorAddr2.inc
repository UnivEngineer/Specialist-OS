;+---------------------------------------------------------------------------
; MXOS
; Расчет адреса курсора в видеопамяти (продолжение);
;
; 2013-12-12 Дизассемблировано vinxru
;----------------------------------------------------------------------------

calcCursorAd_0:	; Перевод строки (на входе C=10)
		call	printChar

		; Восстановление регистров после printChar (хотя он не портит регистры)
		lhld	v_cursorY
		mov	a, h

calcCursorAd_1:	; Расчет старшего байта адреса
		; a = cursorX / 4 + 90h		
		rrc
		rrc
		ani	3Fh
		adi	90h
		ret

