;+---------------------------------------------------------------------------
; MXOS
; Вывод строки на экран
;
; На входе
;  hl - строка
;
; На выходе
;  af, bc, de - сохраняются
;
; 2013-12-12 Дизассемблировано vinxru
;----------------------------------------------------------------------------

printString:      ; Сохраняем регистры
            push  bc
            push  af

printString_1:    ; Читаем очередной байт
            ld  a, (hl)
            
            ; Если прочитан 0, выходим
            or    a
            jp z, printString_2

            ; Выводим байт на экран
            ld    c, a
            call  printChar

            ; Следующий байт
            inc   hl
            jp    printString_1

; ---------------------------------------------------------------------------

printString_2:    ; Восстанавливаем регистры
            pop   af
            pop   bc
            ret

